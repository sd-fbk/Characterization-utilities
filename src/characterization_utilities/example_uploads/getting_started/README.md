# Introduction

The goal of this example is to show how, through the *Characterization-utilities* plugin, it is possible to describe either a simple or complex sem expriment.

## Explanation

The uploads is based upon two main classes. The `CharacterizationStep` contains all the nedded minamal parameters needed to describe a characterization experiment according to the CHADA instructions and it is built upon the `FabricationProcessStep` from *Fabrication-utilities*.
This class consist in a description of general parameters to make the experiment findable, a repeatable section containing the users involved in the experiment, and another repeatable section consisting in the description of a sample and its components.
Moreover, according to CHADA, the sample sections allow a description of the process used to obtain the sample, starting from the initial awfer or in general item. This quantitites are mapped to the corresponding NeXus fileds and groups automatically.
Finally the other crucial class is the `CharacterizationStepConverter` which allows to parse the input raw data files into the new NeXus entry. In the particular case of the electron microscopy schema explored here, the preferred raw data files are tiff files. The program will extract all metadata present in the image and they will be written into the NeXus. At the moment the program support TIFF coming from:

- FEI_HELIOS
- TESCAN_NISABA
- RAITH_VELION^

Other kind of tiff will be processed extracting the images and it will try to extract at least the minimal metadata, like the instrument name and the acquisition software, usally present in a TIFF. 
At the end of the process the NeXus file will be referenced by the ELN defined in the .archive.json file.

^The RAITH_VELION instrument designed particularly for writing procedures do not create a complete TIFF, but it saves critical data in an external text file. Anyway data could be integrated thanks to the routine presented in https://github.com/Trog-404/Managing-tifs.git.

## Files view

The example upload can be browsed in the `FILES` section to check its contents. Here you will find initially:

- `Prova.archive.json`
- `U1502_metal_cross_5um_015.tif`

As a result from the processing of these entries you will find another file:

- `output.nxs`

which is the new NeXus file created by the electron-microscopy ELN converter and other NOMAD entries automatically generated by NOMAD to create the NexusIdentifiers section within the entry.

## Remaining features and issues

The characterization step in this example could also be linked to other kind of `FabricationProcessStep` merging them into real Processes.
Therefore, the best way to describe and integrate them is through the *Characterization-utilities* package, which also provides built-in methods to generate FAIR-compliant files recognized by the community directly from raw experimental data, where supported (the package is continuously expanding and you may be integrated into its structure).

For any issues with the code or features request, please do not hesitate to contact the system maintainers. Contact us also to include matching routines for other instruments.




